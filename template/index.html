<!DOCTYPE html>
<html>

<head>
  <title></title>
  <!-- Latest compiled and minified CSS -->
  <script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css"> 
  <!-- <script src="https://unpkg.com/vue/dist/vue.js"></script>  -->
  {% load staticfiles %}
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript" src="{% static "js/search_attractions.js" %}"></script>
  <link rel="stylesheet" href="{% static 'css/main-page.css'%}">
</head>

<body>
  <div class="container">
  	<div class="row">
  		<h1 class="col align-self-center"><a href="/" title="Attractions Database">Attractions Database{{ max_index }}</a></h1>
  		<div class="col-lg-6">
  			{% csrf_token %} 
  			<form action="/search_attrations/" method="POST">
  				<div class="input-group">
	    			<input type="text" name="keyword" class="form-control" placeholder="Search for..." value="{{ keyword | default:'' }}" required>
		     		<span class="input-group-btn">
		       		<button class="btn btn-secondary" type="submit">Go!</button>
		      	</span>
					</div>
  			</form>
 			</div>
		</div>
    <div>
      <table class="table table-hover">
        <thead>
          <tr>
            <th>attraction</th>
            <th>category</th>
            <th>content</th>
          </tr>
        </thead>
        <tbody>
          {% for data in content %}
          <tr>
            <td><a href="{{ data.at_url }}" title="{{ data.at_name }}">{{ data.at_name }}</a></td>
            <td>{{ data.at_category }}</td>
            <td>
              <p>{{ data.at_description }}</p>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
      <div>
      	<nav aria-label="Page navigation example">
	        <ul class="pagination">
					{% if content.has_previous %}
	          <li class="page-item">
	            <a class="page-link" href="?page={{ content.previous_page_number }}" aria-label="Previous">
	              <span aria-hidden="true">&laquo;</span>
	              <span class="sr-only">Previous</span>
	            </a>
	          </li>
	        {% else %}
	        	<li class="page-item disabled">
	            <a class="page-link" href="#" aria-label="Previous">
	              <span aria-hidden="true">&laquo;</span>
	              <span class="sr-only">Previous</span>
	            </a>
	          </li>
	        {% endif %}
	        {% for i in page_range %} 
	        	{% if i == content.number %}
	          	<li class="page-item active"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
	          {% else %}
	          	<li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
	        	{% endif%} 
	        {% endfor %}
	        {% if content.has_next %}
	          <li class="page-item">
	            <a class="page-link" href="?page={{ content.next_page_number }}" aria-label="Next">
	              <span aria-hidden="true">&raquo;</span>
	              <span class="sr-only">Next</span>
	            </a>
	          </li>
	        {% else %} 
	        	<li class="page-item disabled">
	            <a class="page-link" href="#" aria-label="Next">
	              <span aria-hidden="true">&raquo;</span>
	              <span class="sr-only">Next</span>
	            </a>
	          </li>
	        {% endif %}
	        </ul>
	      </nav>
      </div>
    </div>
  </div>
</body>

</html>
